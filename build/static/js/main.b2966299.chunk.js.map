{"version":3,"sources":["components/Filter.js","components/AddPerson.js","components/DisplayPersons.js","services/people.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterTerm","filter","value","onChange","AddPerson","newName","handleNameChange","newNumber","handleNumberChange","handleClick","onClick","type","DisplayPersons","filteredPersons","persons","handleDelete","map","person","index","name","number","id","baseUrl","peopleServices","getAll","axios","get","then","response","data","addPerson","newPerson","post","removePerson","delete","updateNumber","newData","put","addedStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","AddedNotif","message","style","ErrorNotif","App","useState","setPersons","setNewName","setNewNumber","setFilterTerm","setFilteredPersons","setMessage","errorMessage","setErrorMessage","useEffect","personData","e","target","toLowerCase","indexOf","preventDefault","some","window","confirm","find","updatedData","catch","setTimeout","personAdded","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b2966299.chunk.js","sourcesContent":["const Filter = ({filterTerm, filter}) => {\n  return (\n    <div>\n        filter shown with <input value = {filterTerm} onChange = {filter}></input>\n    </div>\n\n  )\n}\n\nexport default Filter\n","const AddPerson = ({newName, handleNameChange, newNumber, handleNumberChange, handleClick}) => {\n  return (\n    <form>\n      <h1>add a new</h1>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button  onClick = {handleClick} type=\"submit\">add</button>\n      </div>\n  </form>\n  )\n}\n\nexport default AddPerson\n","const DisplayPersons = ({filterTerm, filteredPersons, persons, handleDelete}) => {\n  return (\n    <div>\n       {filterTerm ? filteredPersons.map((person, index) => \n          <p key={`${person} ${index}`}>{person.name} {person.number} <button onClick = {() => handleDelete(person.id, person.name, person.number)}>delete</button></p>\n        ) :\n        persons.map((person, index) => \n          <p key={`${person} ${index}`}>{person.name} {person.number} <button onClick = {() => handleDelete(person.id, person.name, person.number)}>delete</button></p>\n        )\n       }\n    </div>\n  )\n}\n\nexport default DisplayPersons\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst addPerson = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data);\n}\n\nconst removePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data);\n  \n}\nconst updateNumber = (id, newData) => {\n  const request = axios.put(`${baseUrl}/${id}`, newData )\n  return request.then(response => response.data);\n}\nconst peopleServices = {getAll, addPerson, removePerson, updateNumber}\n\n\n\nexport default peopleServices;\n","const addedStyle = {\n  color: 'green',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n}\nconst errorStyle = {\n  color: 'red',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n}\nconst AddedNotif = ({message}) => {\n  if(message === null){\n    return null;\n  } else {\n    return (\n      <div style = {addedStyle}>\n        {message}\n      </div>\n    )\n  }\n  \n}\n\nconst ErrorNotif = ({message}) => {\n  if(message === null){\n    return null;\n  } else {\n    return (\n      <div style = {errorStyle}>\n        {message}\n      </div>\n    )\n  }\n  \n}\n\n\nexport {AddedNotif, ErrorNotif}\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport DisplayPerson from './components/DisplayPersons'\nimport peopleServices from './services/people'\nimport {AddedNotif, ErrorNotif} from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterTerm, setFilterTerm] = useState('');\n  const [filteredPersons, setFilteredPersons] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n  \n  useEffect(()=> {\n    peopleServices\n      .getAll()\n      .then(personData => setPersons(personData));\n  }, [])\n  \n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n  const handleDelete = (id, name, number) => {\n    if(window.confirm(`Delete ${name} ${number}`)){\n      setPersons(persons.filter((person) => person.id !== id))\n   \n      peopleServices\n        .removePerson(id)\n        \n    }\n  }\n \n  const handleClick = (e) => {\n    e.preventDefault();\n    if(persons.some((person)=> person.name === newName)){\n      if(window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one.`)){\n        const person = persons.find(person => person.name === newName)\n        const {id} = person;\n\n        peopleServices\n          .updateNumber(id, {...person, number : newNumber})\n          .then((updatedData) => setPersons([...persons, updatedData ]))\n          .catch(() => {\n            setErrorMessage(`Information of ${newName} has already been removed from the server`);\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 3000)\n          })\n        setNewName('');\n        setNewNumber('');\n      \n      }\n      \n      return;\n    } else if (newName && newNumber){\n      const newPerson = {\n        name : newName,\n        number : newNumber,\n      }\n      peopleServices\n        .addPerson(newPerson)\n        .then(personAdded => {\n          setPersons([...persons, personAdded])\n          setMessage(`Added ${newPerson.name}`)\n          setTimeout(()=> {\n            setMessage(null)\n          }, 3000)\n        })\n      setNewName('');\n      setNewNumber('');\n\n    }\n    \n  }\n  const filter = (e) => {\n    setFilterTerm(e.target.value);\n    setFilteredPersons( persons.filter(\n      (person) => person.name.toLowerCase()\n              .indexOf(e.target.value.toLowerCase()) >= 0 ))\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <AddedNotif message = {message} />\n      <ErrorNotif message = {errorMessage} />\n      <Filter filterTerm ={filterTerm} filter={filter} />\n      <AddPerson\n        newName = {newName}\n        handleNameChange = {handleNameChange} \n        newNumber = {newNumber}\n        handleNumberChange = {handleNumberChange}\n        handleClick = {handleClick}\n      />\n\n      <h2>Numbers</h2>\n      <DisplayPerson\n        handleDelete = {handleDelete}\n        filterTerm = {filterTerm}\n        filteredPersons = {filteredPersons}\n        persons = {persons}\n      />\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}